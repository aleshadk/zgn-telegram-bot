# Загон телеграм-бот

## Зачем
Бронировать свободные слоты в репетиционной базе загон

## Фичи
- middlewhere для регистрация пользователя в ДБ
- запрос телефона пользователя на случай, если нужно будет связаться с ним
- выбор длительности репетиции
- предлагает только доступные слоты
- подтверждение репетиции администратором
- возможность отменить свою репетицию с уведомлением администратору

## Стек
- ts-node
- telegraf
- mongoose 

## Конфигурация
Скопировать .env_dist и переименовать в .dist

## CJM

### Регистрация
- пользователь отправляет /start
- пользователь отправляет свой контакт
- пользователю доступны кнопки для бронирования и просмотра/управления своими репетициями

### Бронирование
- пользователь жмёт "Забронировать репетицию" и получает кнопки выбора даты репетиции
- пользователь выбирает дату и получает кнопки выбора длительности репетиции
- пользователь получает свободные для этого дня и этой длительности слоты
- пользователь выбирает слот
- пользователь получает сообщение, что его репетиция будет подтверждена администратором

### Админитратор
- получает сообщение о забронированной репетиции с возможностью подтвердить её или отклонить
- администратор может отклонить уже подтверждённую другим администратором репетицию
- администратор получает сообщение о том, что другой аднистратор произвёл дейсвтвие с репетицией
- пользователь получает сообщение о действиях с его репетицией

### Просмотр репетиций
- пользователь может посмотреть список своих репетиций, отортированный от ближайших к дальним, при этом видит статус репетиций: ⏳, ✅ или ❌

### Управление репетициями
- пользователь может отлонить свою репетицию, если она находится в статусе "Ждёт подтверждения" или "Подтверждена". В таком случае администраторы получают уведомление, а слот становится доступен другим пользователям

### Если отправить непонятное сообщение
- есть шанс получить гачи-стикер в ответ